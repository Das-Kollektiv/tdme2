# initialize
on: initialize
	console.log("------------")
	console.log("Initialize")
	console.log("------------")
	console.log()
end

# if no condition is met, nothing will be executed, lol :D
on: nothing
	console.log("---------")
	console.log("Nothing")
	console.log("----------")
	console.log()
	console.log("---------")
	console.log("Arrays")
	console.log("----------")
	$array = array(1,2,3)
	console.log("array initialized with: $array = array(1,2,3)")
	console.log("array now looks like: ", $array)
	console.log("array length: ", array.length($array))
	$array = array.push($array, 8, 9, 10)
	console.log("array pushed 8, 9, 10: ")
	console.log("array now looks like: ", $array)
	console.log("array length: ", array.length($array))
	console.log("array iteration: with array.get method")
	$i = 0
	forCondition($i < array.length($array))
		console.log($i + ": " + array.get($array, $i))
		$i = $i + 1
	end 
	console.log("array iteration: with array[] accessor")
	$i = 0
	forCondition($i < array.length($array))
		console.log($i + ": " + $array[$i])
		$i = $i + 1
	end 
	console.log("array set at index 20 = 11: ")
	$array = array.set($array, 20, 11)
	console.log("array now looks like: ", $array)
	console.log("array remove @ 20: ")
	$array = array.remove($array, 20)
	console.log("array now looks like: ", $array)
	script.stop()
end
# an error has occurred
on: error
	console.log("An error occurred")
	script.wait(1000)
end
# emit test
on: emittest
	console.log("---------------------------------")
	console.log("SCRIPT JUST EMITTED A CONDITION")
	console.log("---------------------------------")
	console.log()
	console.log("----------")
	console.log("Benchmark ")
	console.log("----------")
	$startTime = time.getCurrentMillis()
	$i = 0
	$j = 0
	$k = 0
	forCondition($i < 500000)
		$a = 123 + 456 * (25 / 12) + (7.5 * 12.25) - 8
		if ($j == 0)
			$k = $k + 1
		end
		$i = $i + 1
		$j = $j + 1
		if ($j == 2)
			$j = 0
		end
	end
	$endTime = time.getCurrentMillis()
	console.log("Finished. Time: " + ($endTime - $startTime))
	script.stop()
end
# on-enabled with named conditions
on-enabled: equals(1,1) := named_condition_1
	script.disableNamedCondition("named_condition_1")
	console.log("------------------------------------")
	console.log("named_condition_1 has been emitted")
	console.log("------------------------------------")
	console.log()
	console.log("-----------")
	console.log("Test emit")
	console.log("-----------")
	console.log()
	script.emit(emittest)
end
