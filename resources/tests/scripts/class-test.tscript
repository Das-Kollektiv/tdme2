# initialize
on: initialize
	console.log("------------------------")
	console.log("class-test: Initialize")
	console.log("------------------------")
	console.log()
end

function: increment(=$this)
	$this.a = $this.a + 1
	$this.b = $this.b + 1
	$this.c = $this.c + 1
end

function: printABC(=$this)
	console.log(
		"printABC(): " + 
		"a: " + $this.a + ", " +
		"b: " + $this.b + ", " +
		"c: " + $this.c + ", " +
		"a*b*c: " + ($this.a * $this.b * $this.c)
	)
end

# if no condition is met, nothing will be executed, lol :D
on: nothing
	console.log("---------------------")
	console.log("class-test: Nothing")
	console.log("---------------------")
	console.log()
	#
	$class = {
		# member variables
		a: 1,
		b: 2,
		c: 3,
		# member methods
		increment: () -> increment,
		printABC: () -> printABC,
		printABCD: ($e) -> 
			{
				console.log("xxx: " + $this.a * $this.b * $this.c * $e)
			}
	};
	console.dump($class)
	#
	$i = 0
	forCondition($i < 5)
		$class->printABC()
		$class->increment()
		++$i
	end
	#
	script.stop()
end

# an error has occurred
on: error
	console.log("------------------")
	console.log("class-test: Error")
	console.log("------------------")
	console.log("An error occurred")
	script.wait(1000)
end