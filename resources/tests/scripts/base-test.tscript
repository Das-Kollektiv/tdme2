# initialize
on: initialize
	console.log("-----------------------")
	console.log("base-test: Initialize")
	console.log("-----------------------")
	console.log()
end

# if no condition is met, nothing will be executed, lol :D
on: nothing
	console.log("--------------------")
	console.log("base-test: Nothing")
	console.log("--------------------")
	console.log()
	console.log("-----------------------")
	console.log("Check bool operations")
	console.log("-----------------------")
	console.log("MiniScript will do the job: and(or(equals(MiniScript will do the job, MiniScript will not do the job), equals(it will, it will)), true): ", and(or(equals(MiniScript will do the job, MiniScript will not do the job), equals(it will, it will)), true))
	console.log("-----------------------")
	console.log("Check int computation")
	console.log("-----------------------")
	console.log("1 + 2 + 3 - 1: ", 1 + 2 + 3 - 1)
	console.log("20 / 2: ", 20 / 2)
	console.log("11 * 10: ", 11 * 10)
	console.log("2 > 1: ", 2 > 1)
	console.log("2 < 1: ", 2 < 1)
	console.log("-------------------------")
	console.log("Check float computation")
	console.log("-------------------------")
	console.log("(1.1 + 2.2 + 3.3) - 1.2: ", (1.1 + 2.2 + 3.3) - 1.2)
	console.log("20 / 1.5: ", 20 / 1.5)
	console.log("11.5 * 10.5: ", 11.5 * 10.5)
	console.log("2.2 > 1.3: ", 2.2 > 1.3)
	console.log("2.5 < 1.2: ", 2.5 < 1.2)
	console.log("-------------------------")
	console.log("Check vector2 math")
	console.log("-------------------------")
	console.log("vec2.computeLength(vec2(20, 10)): ", vec2.computeLength(vec2(20, 10)))
	console.log("vec2.computeLengthSquared(vec2(20, 10)): ", vec2.computeLengthSquared(vec2(20, 10)))
	console.log("vec2.computeDotProduct(vec2(0, 1), vec2(0, -1)): ", vec2.computeDotProduct(vec2(0, 1), vec2(0, -1)))
	console.log("vec2.normalize(vec2(1, 2)): ", vec2.normalize(vec2(1, 2)))
	console.log("vec2.getX(vec2(1, 2)): ", vec2.getX(vec2(1, 2)))
	console.log("vec2.getY(vec2(1, 2)): ", vec2.getY(vec2(1, 2)))
	console.log("vec2(1.1, 2.2) - vec2(1.2, 1.0): ", vec2(1.1, 2.2) - vec2(1.2, 1.0))
	console.log("vec2(20, 10) / vec2(1.5, 2.5): ", vec2(20, 10) / vec2(1.5, 2.5))
	console.log("vec2(20, 10) * vec2(1.5, 2.5)): ", vec2(20, 10) * vec2(1.5, 2.5))
	console.log("vec2(20, 10) / 2): ", vec2(20, 10) / 2)
	console.log("vec2(20, 10) * 2): ", vec2(20, 10) * 2)
	console.log("-------------------------")
	console.log("Check vector3 math")
	console.log("-------------------------")
	console.log("vec3.computeLength(vec3(20, 10, 5)): ", vec3.computeLength(vec3(20, 10, 5)))
	console.log("vec3.computeLengthSquared(vec3(20, 10, 5)): ", vec3.computeLengthSquared(vec3(20, 10, 5)))
	console.log("vec3.computeDotProduct(vec3(0, 0, 1), vec3(0, 0, -1)): ", vec3.computeDotProduct(vec3(0, 0, 1), vec3(0, 0, -1)))
	console.log("vec3.computeCrossProduct(vec3(1, 0, 0), vec3(0, 1, 0)): ", vec3.computeCrossProduct(vec3(1, 0, 0), vec3(0, 1, 0)))
	console.log("vec3.normalize(vec3(1, 2, 3)): ", vec3.normalize(vec3(1, 2, 3)))
	console.log("vec3.computeAngle(vec3(0, 0, 1), vec3(1, 0, 0), vec3(0, 1, 0)): ", vec3.computeAngle(vec3(0, 0, 1), vec3(1, 0, 0), vec3(0, 1, 0)))
	console.log("vec3.getX(vec3(1, 2, 3)): ", vec3.getX(vec3(1, 2, 3)))
	console.log("vec3.getY(vec3(1, 2, 3)): ", vec3.getY(vec3(1, 2, 3)))
	console.log("vec3.getZ(vec3(1, 2, 3)): ", vec3.getZ(vec3(1, 2, 3)))
	console.log("vec3(1.1, 2.2, 3.3) - vec3(1.2, 1.0, 1.0): ", vec3(1.1, 2.2, 3.3) - vec3(1.2, 1.0, 1.0))
	console.log("vec3(20, 10, 5) / vec3(1.5, 2.5, 3.5): ", vec3(20, 10, 5) / vec3(1.5, 2.5, 3.5))
	console.log("vec3(20, 10, 5) * vec3(1.5, 2.5, 3.5)): ", vec3(20, 10, 5) * vec3(1.5, 2.5, 3.5))
	console.log("vec3(20, 10, 5) / 2): ", vec3(20, 10, 5) / 2)
	console.log("vec3(20, 10, 5) * 2): ", vec3(20, 10, 5) * 2)
	console.log("-------------------------")
	console.log("Check vector4 math")
	console.log("-------------------------")
	console.log("vec4.computeLength(vec4(20, 10, 5, 2.5)): ", vec4.computeLength(vec4(20, 10, 5, 2.5)))
	console.log("vec4.computeLengthSquared(vec3(20, 10, 5)): ", vec4.computeLengthSquared(vec4(20, 10, 5, 2.5)))
	console.log("vec4.computeDotProduct(vec3(0, 0, 1), vec3(0, 0, -1, 1)): ", vec4.computeDotProduct(vec4(0, 0, 1, 1), vec4(0, 0, -1, 1)))
	console.log("vec4.normalize(vec4(1, 2, 3, 4)): ", vec4.normalize(vec4(1, 2, 3, 4)))
	console.log("vec4.getX(vec4(1, 2, 3, 4)): ", vec4.getX(vec4(1, 2, 3, 4)))
	console.log("vec4.getY(vec4(1, 2, 3, 4)): ", vec4.getY(vec4(1, 2, 3, 4)))
	console.log("vec4.getZ(vec4(1, 2, 3, 4)): ", vec4.getZ(vec4(1, 2, 3, 4)))
	console.log("vec4.getW(vec4(1, 2, 3, 4)): ", vec4.getZ(vec4(1, 2, 3, 4)))
	console.log("vec4(1.1, 2.2, 3.3, 1.0) - vec4(1.2, 1.0, 1.0, 1.0): ", vec4(1.1, 2.2, 3.3, 1.0) - vec4(1.2, 1.0, 1.0, 1.0))
	console.log("vec4(20, 10, 5, 1) / vec4(1.5, 2.5, 3.5, 1): ", vec4(20, 10, 5, 1) / vec4(1.5, 2.5, 3.5, 1))
	console.log("vec4(20, 10, 5, 1) * vec4(1.5, 2.5, 3.5, 1)): ", vec4(20, 10, 5, 1) * vec4(1.5, 2.5, 3.5, 1))
	console.log("vec4(20, 10, 5, 1) / 2): ", vec4(20, 10, 5, 1) / 2)
	console.log("vec4(20, 10, 5, 1) * 2): ", vec4(20, 10, 5, 1) * 2)
	console.log("-------------------------")
	console.log("Check quaternion math")
	console.log("-------------------------")
	console.log("quaternion.identity(): ", quaternion.identity())
	console.log("quaternion.rotate(vec3(0.0, 1.0, 0.0), 90.0): ", quaternion.rotate(vec3(0.0, 1.0, 0.0), 90.0))
	console.log("quaternion.normalize(quaternion.rotate(vec3(0.0, 1.0, 0.0), 90.0)): ", quaternion.normalize(quaternion.rotate(vec3(0.0, 1.0, 0.0), 90.0)))
	console.log("quaternion.multiply(quaternion.rotate(vec3(0.0, 1.0, 0.0), 90.0), quaternion.rotate(vec3(1.0, 0.0, 0.0), 90.0)): ", quaternion.multiply(quaternion.rotate(vec3(0.0, 1.0, 0.0), 90.0), quaternion.rotate(vec3(1.0, 0.0, 0.0), 90.0)))
	console.log("quaternion.multiply(quaternion.rotate(vec3(0.0, 1.0, 0.0), 90.0), vec3(0.0, 0.0, 1.0)): ", quaternion.multiply(quaternion.rotate(vec3(0.0, 1.0, 0.0), 90.0), vec3(0.0, 0.0, 1.0)))
	console.log("quaternion.computeMatrix(quaternion.rotate(vec3(0.0, 1.0, 0.0), 90.0)): ", quaternion.computeMatrix(quaternion.rotate(vec3(0.0, 1.0, 0.0), 90.0)))
	console.log("-------------------------")
	console.log("Check matrix4x4 math")
	console.log("-------------------------")
	console.log("mat4.identity(): ", mat4.identity())
	console.log("mat4.translate(vec3(1.0, 2.0, 3.0)): ", mat4.translate(vec3(1.0, 2.0, 3.0)))
	console.log("mat4.rotate(vec3(0.0, 1.0, 0.0), 90.0): ", mat4.rotate(vec3(0.0, 1.0, 0.0), 90.0))
	console.log("mat4.scale(vec3(1.0, 2.0, 3.0)): ", mat4.scale(vec3(1.0, 2.0, 3.0)))
	console.log("mat4.scale(3.0): ", mat4.scale(3.0))
	console.log("mat4.invert(mat4.scale(3.0)): ", mat4.invert(mat4.scale(3.0)))
	console.log("mat4.computeEulerAngles(mat4.rotate(vec3(0.0, 1.0, 0.0), 90.0)): ", mat4.computeEulerAngles(mat4.rotate(vec3(0.0, 1.0, 0.0), 90.0)))
	console.log("mat4.multiply(mat4.rotate(vec3(0.0, 1.0, 0.0), 90.0), mat4.rotate(vec3(1.0, 0.0, 0.0), 90.0)): ", mat4.multiply(mat4.rotate(vec3(0.0, 1.0, 0.0), 90.0), mat4.rotate(vec3(1.0, 0.0, 0.0), 90.0)))
	console.log("mat4.multiply(mat4.rotate(vec3(0.0, 1.0, 0.0), 90.0), vec3(0.0, 0.0, 1.0)): ", mat4.multiply(mat4.rotate(vec3(0.0, 1.0, 0.0), 90.0), vec3(0.0, 0.0, 1.0)))
	console.log("mat4.multiply(mat4.multiply(mat4.rotate(vec3(0.0, 1.0, 0.0), 90.0), mat4.translate(vec3(1.0, 2.0, 3.0))), vec4(0.0, 0.0, 1.0, 0.0)): ", mat4.multiply(mat4.multiply(mat4.rotate(vec3(0.0, 1.0, 0.0), 90.0), mat4.translate(vec3(1.0, 2.0, 3.0))), vec4(0.0, 0.0, 1.0, 0.0)))
	console.log("-------------------------")
	console.log("Check matrix3x3 math")
	console.log("-------------------------")
	console.log("mat3.identity(): ", mat3.identity())
	console.log("mat3.translate(vec2(1.0, 2.0)): ", mat3.translate(vec2(1.0, 2.0)))
	console.log("mat3.rotate(90.0): ", mat3.rotate(90.0))
	console.log("mat3.rotateAroundTextureCenter(90.0): ", mat3.rotateAroundTextureCenter(90.0))
	console.log("mat3.rotateAroundPoint(vec2(0.5, 0.5), 90.0): ", mat3.rotateAroundPoint(vec2(0.5, 0.4), 90.0))
	console.log("mat3.scale(vec2(1.0, 2.0)): ", mat3.scale(vec2(1.0, 2.0)))
	console.log("mat3.scale(3.0): ", mat3.scale(3.0))
	console.log("mat3.multiply(mat3.rotate(90.0), mat3.translate(vec2(1.0, 2.0))): ", mat3.multiply(mat3.rotate(90.0), mat3.translate(vec2(1.0, 2.0))))
	console.log("mat3.multiply(mat3.rotate(90.0), vec2(1.0, 2.0)): ", mat3.multiply(mat3.rotate(90.0), vec2(1.0, 2.0)))
	console.log("-------------------------")
	console.log("Check additional math")
	console.log("-------------------------")
	console.log("math.PI(): ", math.PI())
	console.log("math.EPSILON(): ", math.EPSILON())
	console.log("math.DEG2RAD(): ", math.DEG2RAD())
	console.log("math.G(): ", math.G())
	console.log("math.acos(0.0): ", math.acos(0.0))
	console.log("math.asin(1.0): ", math.asin(1.0))
	console.log("math.atan(1.0): ", math.atan(1.0))
	console.log("math.atan2(-1.0, -1.0): ", math.atan2(-1.0, -1.0))
	console.log("math.floor(2.87): ", math.floor(2.87))
	console.log("math.ceil(2.87): ", math.ceil(2.87))
	console.log("math.round(2.37): ", math.round(2.37))
	console.log("math.round(2.87): ", math.round(2.87))
	console.log("math.cos(0.0): ", math.cos(0.0))
	console.log("math.sin(0.0): ", math.sin(0.0))
	console.log("math.tan(1.0): ", math.tan(1.0))
	console.log("math.sqrt(9.0): ", math.sqrt(9))
	console.log("math.random(): ", math.random())
	console.log("math.random(): ", math.random())
	console.log("math.random(): ", math.random())
	console.log("math.exp(1.0): ", math.exp(1.0))
	console.log("math.log(2.0): ", math.log(2.0))
	console.log("math.sign(-2): ", math.sign(-2))
	console.log("math.sign(-2.0): ", math.sign(-2.0))
	console.log("math.square(3): ", math.square(3))
	console.log("math.square(3.0): ", math.square(3.0))
	console.log("math.min(4, 9): ", math.min(4, 9))
	console.log("math.min(4.1, 9.3): ", math.min(4.1, 9.3))
	console.log("math.max(4, 9): ", math.max(4, 9))
	console.log("math.max(4.1, 9.3): ", math.max(4.1, 9.3))
	console.log("math.abs(-9): ", math.abs(-9))
	console.log("math.abs(-9.3): ", math.abs(-9.3))
	console.log("math.clamp(-1, 4, 9): ", math.clamp(-1, 4, 9))
	console.log("math.clamp(10.0, 4.1, 9.3): ", math.clamp(10.0, 4.1, 9.3))
	console.log("math.pow(2, 16): ", math.pow(2, 16))
	console.log("math.pow(2.0, 16.0): ", math.pow(2.0, 16.0))
	console.log("math.mod(187, 180): ", math.mod(187, 180))
	console.log("math.mod(-187, 180): ", math.mod(-187, 180))
	console.log("math.absmod(187, 180): ", math.absmod(187, 180))
	console.log("math.absmod(-187, 180): ", math.absmod(-187, 180))
	console.log("-----------------------------------")
	console.log("Check transform")
	console.log("-----------------------------------")
	console.log("$transform = transform(vec3(1,2,3), vec3(2, 3, 4)")
	$transform = transform(vec3(1,2,3), vec3(2, 3, 4))
	console.log("$transform: ", $transform)
	console.log("transform.setRotationAngle($transform, 1, 90)")
	transform.setRotationAngle($transform, 1, 90)
	console.log("transform.getRotationAngle($transform, 1): ", transform.getRotationAngle($transform, 1))
	console.log("transform.getTranslation($transform): ", transform.getTranslation($transform))
	console.log("transform.setTranslation($transform, vec3(-1,-2,-3))")
	transform.setTranslation($transform, vec3(-1,-2,-3))
	console.log("transform.getTranslation($transform): ", transform.getTranslation($transform))
	console.log("transform.getScale($transform): ", transform.getScale($transform))
	console.log("transform.setScale($transform, vec3(-2,-3,-4))")
	transform.setScale($transform, vec3(-2,-3,-4))
	console.log("transform.getScale($transform): ", transform.getScale($transform))
	console.log("transform.getRotationAxis($transform, 0): ", transform.getRotationAxis($transform, 0)) 
	console.log("transform.multiply($transform, vec3(0,0,0)): ", transform.multiply($transform, vec3(0,0,0)))
	console.log("transform.rotate($transform, vec3(0,0,1)): ", transform.rotate($transform, vec3(0,0,1)))
	console.log("transform.getTransformMatrix($transform): ", transform.getTransformMatrix($transform))
	console.log("transform.getRotationsQuaternion($transform): ", transform.getRotationsQuaternion($transform))
	console.log("------------------------")
	console.log("Check string methods")
	console.log("------------------------")
	console.log("string.space(0): " + string.space(0), "1")
	console.log("string.space(2): " + string.space(2), "1.1")
	console.log("string.space(2): " + string.space(2), "1.2")
	console.log("string.space(4): " + string.space(4), "1.2.1")
	console.log("string.toUpperCase('xxxyyyzzz'): ", string.toUpperCase("xxxyyyzzz"))
	console.log("string.toLowerCase('XXXYYYZZZ'): ", string.toLowerCase("XXXYYYZZZ"))
	console.log("string.concatenate('abc', 'def', 'ghi'): " + string.concatenate("abc", "def", "ghi"))
	console.log("string.startsWith('abcdef', 'abc'): " + string.startsWith("abcdef", "abc"))
	console.log("string.startsWith('abcdef', 'def'): " + string.startsWith("abcdef", "def"))
	console.log("string.endsWith('abcdef', 'abc'): " + string.endsWith("abcdef", "abc"))
	console.log("string.endsWith('abcdef', 'def'): " + string.endsWith("abcdef", "def"))
	console.log("string.replace('abcdef', 'def', 'DEF'): " + string.replace("abcdef", "def", "DEF"))
	console.log("string.indexOf('abcdef', 'def'): " + string.indexOf("abcdef", "def"))
	console.log("string.firstIndexOf('abcdef', 'def'): " + string.firstIndexOf("abcdef", "def"))
	console.log("string.lastIndexOf('abcdef', 'def'): " + string.lastIndexOf("abcdef", "def"))
	console.log("string.substring('abcdef', 3): " + string.substring("abcdef", 3))
	console.log("string.substring('abcdef', 1, 5): " + string.substring("abcdef", 1, 5))
	console.log("string.equalsIgnoreCase('abcdef', 'ABCDEF'): " + string.equalsIgnoreCase('abcdef', 'ABCDEF'))
	console.log("string.trim('   abcdef   '): " + "'" + string.trim("   abcdef   ") + "'")
	console.log("string.regexMatch('abcdef', '[a-z]*'): " + string.regexMatch("abcdef", "[a-z]*"))
	console.log("string.regexMatch('abcdef', '[0-9]*'): " + string.regexMatch("abcdef", "[0-9]*"))
	console.log("string.regexReplace('abcdef', '[bcde]', '-'): " + string.regexReplace("abcdef", "[bcde]", "-"))
	console.log("string.tokenize('Andreas is a very good boy', ' '): " + string.tokenize("Andreas is a very good boy <3", " "))
	console.log("string.length('abcdef'): " + string.length("abcdef"))
	console.log("string.charAt('abcdef', 0): " + string.charAt("abcdef", 0))
	console.log("string.charAt('abcdef', 1): " + string.charAt("abcdef", 1))
	console.log("string.charAt('abcdef', 2): " + string.charAt("abcdef", 2))
	console.log("string.charAt('abcdef', 3): " + string.charAt("abcdef", 3))
	console.log("string.charAt('abcdef', 4): " + string.charAt("abcdef", 4))
	console.log("string.charAt('abcdef', 5): " + string.charAt("abcdef", 5))
	console.log("string.charAt('abcdef', 6): " + string.charAt("abcdef", 6))
	console.log("------------------------")
	console.log("Check string operator (Operators)")
	console.log("'abc' + 'def' + 'ghi': ", "abc" + "def" + "ghi")
	console.log("abc == abc: ", "abc" == "abc")
	console.log("abc == def: ", "abc" == "def")
	console.log("abc != abc: ", "abc" != "abc")
	console.log("abc != def: ", "abc" != "def")
	console.log("abc < def: ", "abc" < "def")
	console.log("def < abc: ", "def" < "abc")
	console.log("abc <= abc: ", "abc" <= "abc")
	console.log("abc <= def: ", "abc" <= "def")
	console.log("def <= abc: ", "def" <= "abc")
	console.log("abc > def: ", "abc" > "def")
	console.log("def > abc: ", "def" > "abc")
	console.log("abc >= abc: ", "abc" >= "abc")
	console.log("abc >= def: ", "abc" >= "def")
	console.log("def >= abc: ", "def" >= "abc")
	console.log("------------------------")
	console.log("------------------------")
	console.log("Variable")
	console.log("------------------------")
	$variable = string("1234")
	console.log(getVariable("$variable"))
	console.log("--------------------")
	console.log("Lets check forTime")
	console.log("--------------------")
	$i = 1
	forTime(2000)
		console.log($i, ": Hello World")
		script.wait(500)
		$i = $i + 1
	end
	console.log("-------------------------")
	console.log("Lets check forCondition")
	console.log("-------------------------")
	$i = 1
	forCondition($i != 6)
		console.log($i, ": Hello World")
		script.wait(500)
		$i = $i + 1
	end
	console.log("i -> ", $i)
	console.log("---------------------------------------------")
	console.log("Lets check forCondition with if/elseif/else")
	console.log("---------------------------------------------")
	$i = 1
	forCondition($i < 5)
		console.log($i, ":")
		if ($i == 0)
			console.log("i -> 0")
		elseif ($i == 1)
			console.log("i -> 1")
		elseif ($i == 2)
			console.log("i -> 2")
		elseif ($i == 3)
			console.log("i -> 3")
		else
			console.log("else: ", $i)
		end
		$i = $i + 1
	end
	$i = 1
	$j = 2
	$k = 3
	if (getVariable("$i") == $j || getVariable("$i") == $k)
		console.log("This should not happen, but look ok in preprocessor processed output")
	end
	console.log("-------------------------------------------------------------------------------------")
	console.log("Test: string concatenation with brackets in string literals: " + $i + "(" + $j + ")")
	console.log("-------------------------------------------------------------------------------------")
	console.log("(4.0 + 2.0) / 2.0 + (20.0 / 10.0 * (2.0 + 5)): ", (4.0 + 2.0) / 2.0 + (20.0 / 10.0 * (2.0 + 5)), " = 17")
	script.stop()
end

# an error has occurred
on: error
	console.log("------------------")
	console.log("base-test: Error")
	console.log("------------------")
	console.log("An error occurred")
	script.wait(1000)
end
